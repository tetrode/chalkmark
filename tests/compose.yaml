services:
  php82:
    image: php:8.2-cli
    volumes:
      - ..:/app
    working_dir: /app
    command: >
      sh -c "
        apt-get update &&
        apt-get install -y git zip unzip &&
        curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer &&
        composer install &&
        vendor/bin/phpunit --no-configuration ./tests
      "

  php83:
    image: php:8.3-cli
    volumes:
      - ..:/app
    working_dir: /app
    command: >
      sh -c "
        apt-get update &&
        apt-get install -y git zip unzip &&
        curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer &&
        composer install &&
        vendor/bin/phpunit --no-configuration ./tests
      "

  php84:
    image: php:8.4-cli
    volumes:
      - ..:/app
    working_dir: /app
    command: >
      sh -c "
        apt-get update &&
        apt-get install -y git zip unzip &&
        curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer &&
        composer install &&
        vendor/bin/phpunit --no-configuration ./tests
      "

  php85:
    image: php:8.5-cli
    volumes:
      - ..:/app
    working_dir: /app
    command: >
      sh -c "
        apt-get update &&
        apt-get install -y git zip unzip &&
        curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer &&
        composer install &&
        vendor/bin/phpunit --no-configuration ./tests
      "
